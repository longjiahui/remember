[2020-03-19T02:15:01.413] [DEBUG] default - post body: {}
[2020-03-19T02:15:01.420] [ERROR] default - arg check failed:
 {
  error: 'error: username, rule: {"and":["string","[Function]"]}, theRule: , desc: path is unavailable which is nesessary',
  key: 'username',
  rule: { and: [ 'string', [Function] ] },
  theRule: undefined,
  _origin: { desc: 'path is unavailable which is nesessary' }
}
[2020-03-19T02:15:01.432] [DEBUG] default - { code: -1, msg: '参数错误' }
[2020-03-19T02:15:01.435] [TRACE] access - GET /api/user/register 200 - 22ms
[2020-03-19T02:15:01.443] [TRACE] access - -----------------
[2020-03-20T03:46:10.747] [DEBUG] default - post body: {}
[2020-03-20T03:46:10.753] [ERROR] default - arg check failed:
 {
  error: 'error: username, rule: {"and":["string","[Function]"]}, theRule: , desc: path is unavailable which is nesessary',
  key: 'username',
  rule: { and: [ 'string', [Function] ] },
  theRule: undefined,
  _origin: { desc: 'path is unavailable which is nesessary' }
}
[2020-03-20T03:46:10.766] [DEBUG] default - { code: -1, msg: '参数错误' }
[2020-03-20T03:46:10.778] [TRACE] access - GET /api/user/login 200 - 31ms
[2020-03-20T03:46:10.779] [TRACE] access - -----------------
[2020-03-20T03:47:21.666] [DEBUG] default - post body: {"username":"longjiahui","password":"ljh8733887"}
[2020-03-20T03:47:21.667] [TRACE] access - POST /api/login 404 - 1ms
[2020-03-20T03:47:21.669] [TRACE] access - -----------------
[2020-03-20T03:48:01.666] [DEBUG] default - post body: {"username":"longjiahui","password":"ljh8733887"}
[2020-03-20T03:48:01.672] [TRACE] access - POST /api/login 404 - 6ms
[2020-03-20T03:48:01.682] [TRACE] access - -----------------
[2020-03-20T03:48:41.028] [DEBUG] default - post body: {"username":"longjiahui","password":"ljh8733887"}
[2020-03-20T03:48:41.031] [TRACE] access - POST /api/login 404 - 3ms
[2020-03-20T03:48:41.031] [TRACE] access - -----------------
[2020-03-20T03:48:43.403] [DEBUG] default - post body: {"password":"ljh8733887"}
[2020-03-20T03:48:43.405] [TRACE] access - POST /api/login 404 - 2ms
[2020-03-20T03:48:43.405] [TRACE] access - -----------------
[2020-03-20T03:48:53.401] [DEBUG] default - post body: {"username":"longjiahui","password":"ljh8733887"}
[2020-03-20T03:48:53.404] [TRACE] access - POST /api/logi 404 - 3ms
[2020-03-20T03:48:53.405] [TRACE] access - -----------------
[2020-03-20T03:48:56.818] [DEBUG] default - post body: {"username":"longjiahui","password":"ljh8733887"}
[2020-03-20T03:48:56.821] [TRACE] access - POST /api/login 404 - 3ms
[2020-03-20T03:48:56.822] [TRACE] access - -----------------
[2020-03-20T03:49:11.730] [DEBUG] default - post body: {"password":"longjiahui","username":"ljh8733887"}
[2020-03-20T03:49:11.731] [TRACE] access - POST /api/login 404 - 1ms
[2020-03-20T03:49:11.732] [TRACE] access - -----------------
[2020-03-20T03:49:20.963] [DEBUG] default - post body: {"password":"longjiahui","username":"ljh8733887"}
[2020-03-20T03:49:20.974] [ERROR] default - error unknown:
 TypeError: Cannot destructure property 'username' of 'ctx.request.params' as it is undefined.
    at login (D:\pros\remember-server\dist\controller\user.js:50:7)
    at dispatch (D:\pros\remember-server\node_modules\koa-compose\index.js:42:32)
    at D:\pros\remember-server\node_modules\koa-serve-decorator\src\route.js:108:15
    at processTicksAndRejections (internal/process/task_queues.js:97:5)
    at async D:\pros\remember-server\node_modules\koa-serve-decorator\src\service.js:19:9
    at async D:\pros\remember-server\dist\db.js:7:3
    at async koaMongo (D:\pros\remember-server\node_modules\koa-mongo\index.js:69:7)
    at async D:\pros\remember-server\dist\log.js:64:3
    at async D:\pros\remember-server\dist\log.js:20:5
[2020-03-20T03:49:21.010] [TRACE] access - POST /api/user/login 200 - 47ms
[2020-03-20T03:49:21.011] [TRACE] access - -----------------
[2020-03-20T03:50:16.845] [DEBUG] default - post body: {"password":"longjiahui","username":"ljh8733887"}
[2020-03-20T03:50:16.879] [ERROR] default - database error:
 MongoError: collection name must be a String
    at checkCollectionName (D:\pros\remember-server\node_modules\mongodb\lib\utils.js:100:11)
    at new Collection (D:\pros\remember-server\node_modules\mongodb\lib\collection.js:104:3)
    at Db.collection (D:\pros\remember-server\node_modules\mongodb\lib\db.js:431:26)
    at login (D:\pros\remember-server\dist\controller\user.js:53:23)
    at dispatch (D:\pros\remember-server\node_modules\koa-compose\index.js:42:32)
    at D:\pros\remember-server\node_modules\koa-serve-decorator\src\route.js:108:15
    at processTicksAndRejections (internal/process/task_queues.js:97:5)
    at async D:\pros\remember-server\node_modules\koa-serve-decorator\src\service.js:19:9
    at async D:\pros\remember-server\dist\db.js:7:3
    at async koaMongo (D:\pros\remember-server\node_modules\koa-mongo\index.js:69:7) {
  name: 'MongoError',
  [Symbol(mongoErrorContextSymbol)]: {}
}
[2020-03-20T03:50:16.886] [TRACE] access - POST /api/user/login 200 - 42ms
[2020-03-20T03:50:16.898] [TRACE] access - -----------------
[2020-03-20T03:50:49.554] [DEBUG] default - post body: {"password":"longjiahui","username":"ljh8733887"}
[2020-03-20T03:50:49.586] [TRACE] access - POST /api/user/login 200 - 32ms
[2020-03-20T03:50:49.594] [TRACE] access - -----------------
[2020-03-20T03:51:10.784] [DEBUG] default - post body: {"password":"longjiahui","username":"ljh8733887"}
[2020-03-20T03:51:10.848] [TRACE] access - POST /api/user/login 200 - 64ms
[2020-03-20T03:51:10.879] [TRACE] access - -----------------
[2020-03-20T03:56:17.427] [DEBUG] default - post body: {"password":"longjiahui","username":"ljh8733887"}
[2020-03-20T03:56:17.436] [ERROR] default - error unknown:
 TypeError: Cannot read property 'findOne' of undefined
    at UserService.checkPassword (D:\pros\remember-server\dist\controller\service\user.js:33:58)
    at login (D:\pros\remember-server\dist\controller\user.js:53:38)
    at dispatch (D:\pros\remember-server\node_modules\koa-compose\index.js:42:32)
    at D:\pros\remember-server\node_modules\koa-serve-decorator\src\route.js:108:15
    at processTicksAndRejections (internal/process/task_queues.js:97:5)
    at async D:\pros\remember-server\node_modules\koa-serve-decorator\src\service.js:19:9
    at async D:\pros\remember-server\dist\db.js:7:3
    at async koaMongo (D:\pros\remember-server\node_modules\koa-mongo\index.js:69:7)
    at async D:\pros\remember-server\dist\log.js:64:3
    at async D:\pros\remember-server\dist\log.js:20:5
[2020-03-20T03:56:17.450] [TRACE] access - POST /api/user/login 200 - 23ms
[2020-03-20T03:56:17.462] [TRACE] access - -----------------
[2020-03-20T03:56:44.021] [DEBUG] default - post body: {"password":"longjiahui","username":"ljh8733887"}
[2020-03-20T03:56:44.034] [ERROR] default - error unknown:
 TypeError: this.ctx.db.collections(...).findOne is not a function
    at UserService.checkPassword (D:\pros\remember-server\dist\controller\service\user.js:33:58)
    at login (D:\pros\remember-server\dist\controller\user.js:53:38)
    at dispatch (D:\pros\remember-server\node_modules\koa-compose\index.js:42:32)
    at D:\pros\remember-server\node_modules\koa-serve-decorator\src\route.js:108:15
    at processTicksAndRejections (internal/process/task_queues.js:97:5)
    at async D:\pros\remember-server\node_modules\koa-serve-decorator\src\service.js:19:9
    at async D:\pros\remember-server\dist\db.js:7:3
    at async koaMongo (D:\pros\remember-server\node_modules\koa-mongo\index.js:69:7)
    at async D:\pros\remember-server\dist\log.js:64:3
    at async D:\pros\remember-server\dist\log.js:20:5
[2020-03-20T03:56:44.043] [TRACE] access - POST /api/user/login 200 - 22ms
[2020-03-20T03:56:44.044] [TRACE] access - -----------------
[2020-03-20T03:57:15.744] [DEBUG] default - post body: {"password":"longjiahui","username":"ljh8733887"}
[2020-03-20T03:57:15.796] [TRACE] access - POST /api/user/login 200 - 52ms
[2020-03-20T03:57:15.797] [TRACE] access - -----------------
[2020-03-20T04:16:05.588] [DEBUG] default - post body: {"username":"longjiahui","password":"ljh8733887"}
[2020-03-20T04:16:05.593] [TRACE] access - POST /api/user/login 200 - 5ms
[2020-03-20T04:16:05.594] [TRACE] access - -----------------
[2020-03-20T04:16:23.726] [DEBUG] default - post body: {"username":"longjiahui","password":"sdf"}
[2020-03-20T04:16:23.729] [ERROR] default - arg check failed:
 {
  error: 'error: password, rule: {"and":["string","[Function]"]}, theRule: [Function], desc: undefined',
  key: 'password',
  rule: { and: [ 'string', [Function] ] },
  theRule: [Function],
  _origin: { val: 'sdf', rule: [Function] }
}
[2020-03-20T04:16:23.734] [DEBUG] default - { code: -1, msg: '参数错误' }
[2020-03-20T04:16:23.738] [TRACE] access - POST /api/user/login 200 - 12ms
[2020-03-20T04:16:23.739] [TRACE] access - -----------------
[2020-03-20T04:16:28.023] [DEBUG] default - post body: {"username":"longjiahui","password":"ljh8733887"}
[2020-03-20T04:16:28.066] [TRACE] access - POST /api/user/login 200 - 43ms
[2020-03-20T04:16:28.066] [TRACE] access - -----------------
[2020-03-20T04:32:15.873] [DEBUG] default - post body: {"username":"longjiahui","password":"ljh8733887"}
[2020-03-20T04:32:15.891] [TRACE] access - POST /api/user/login 200 - 19ms
[2020-03-20T04:32:15.892] [TRACE] access - -----------------
[2020-03-20T04:32:20.873] [DEBUG] default - post body: {"username":"longjiahui","password":"ljh8733887"}
[2020-03-20T04:32:20.876] [TRACE] access - POST /api/user/login 200 - 3ms
[2020-03-20T04:32:20.886] [TRACE] access - -----------------
[2020-03-21T08:31:32.684] [DEBUG] default - post body: {}
[2020-03-21T08:31:32.685] [DEBUG] default - query params: {"a":"test"}
[2020-03-21T08:31:32.786] [ERROR] default - error unknown:
 TimeoutError: ResourceRequest timed out
    at ResourceRequest._fireTimeout (/home/anfo/Documents/pros/remember-server/node_modules/generic-pool/lib/ResourceRequest.js:62:17)
    at Timeout.bound (/home/anfo/Documents/pros/remember-server/node_modules/generic-pool/lib/ResourceRequest.js:8:15)
    at listOnTimeout (internal/timers.js:549:17)
    at processTimers (internal/timers.js:492:7) {
  name: 'TimeoutError'
}
[2020-03-21T08:31:32.787] [TRACE] access - GET /api/abc?a=test 200 - 104ms
[2020-03-21T08:31:32.788] [TRACE] access - -----------------
[2020-03-21T08:31:54.512] [DEBUG] default - post body: {}
[2020-03-21T08:31:54.513] [DEBUG] default - query params: {"a":"test"}
[2020-03-21T08:31:54.612] [ERROR] default - error unknown:
 TimeoutError: ResourceRequest timed out
    at ResourceRequest._fireTimeout (/home/anfo/Documents/pros/remember-server/node_modules/generic-pool/lib/ResourceRequest.js:62:17)
    at Timeout.bound (/home/anfo/Documents/pros/remember-server/node_modules/generic-pool/lib/ResourceRequest.js:8:15)
    at listOnTimeout (internal/timers.js:549:17)
    at processTimers (internal/timers.js:492:7) {
  name: 'TimeoutError'
}
[2020-03-21T08:31:54.614] [TRACE] access - GET /api/abc?a=test 200 - 102ms
[2020-03-21T08:31:54.614] [TRACE] access - -----------------
[2020-03-21T08:32:13.752] [DEBUG] default - post body: {}
[2020-03-21T08:32:13.754] [DEBUG] default - query params: {"a":"test"}
[2020-03-21T08:32:13.755] [TRACE] access - GET /api/abc?a=test 404 - 3ms
[2020-03-21T08:32:13.755] [TRACE] access - -----------------
[2020-03-21T08:32:40.270] [DEBUG] default - post body: {}
[2020-03-21T08:32:40.272] [DEBUG] default - query params: {"a":"test"}
[2020-03-21T08:32:40.272] [TRACE] access - GET /api/abc?a=test 404 - 2ms
[2020-03-21T08:32:40.272] [TRACE] access - -----------------
[2020-03-21T08:32:46.613] [DEBUG] default - post body: {}
[2020-03-21T08:32:46.614] [TRACE] access - GET /api/user/login 404 - 0ms
[2020-03-21T08:32:46.614] [TRACE] access - -----------------
[2020-03-21T08:33:23.158] [DEBUG] default - post body: {}
[2020-03-21T08:33:23.160] [TRACE] access - GET /api/user/login 404 - 2ms
[2020-03-21T08:33:23.161] [TRACE] access - -----------------
[2020-03-21T08:35:45.153] [DEBUG] default - post body: {}
[2020-03-21T08:35:45.154] [TRACE] access - GET /api/user/login 404 - 1ms
[2020-03-21T08:35:45.155] [TRACE] access - -----------------
[2020-03-21T08:58:49.593] [DEBUG] default - post body: {}
[2020-03-21T08:58:49.597] [ERROR] default - arg check failed:
 {
  error: 'error: username, rule: {"and":["string","[Function]"]}, theRule: , desc: path is unavailable which is nesessary',
  key: 'username',
  rule: { and: [ 'string', [Function] ] },
  theRule: undefined,
  _origin: { desc: 'path is unavailable which is nesessary' }
}
[2020-03-21T08:58:49.599] [DEBUG] default - { code: -1, msg: '参数错误' }
[2020-03-21T08:58:49.600] [TRACE] access - GET /api/user/login 200 - 7ms
[2020-03-21T08:58:49.600] [TRACE] access - -----------------
[2020-03-21T08:59:18.161] [DEBUG] default - post body: {}
[2020-03-21T08:59:18.166] [ERROR] default - arg check failed:
 {
  error: 'error: username, rule: {"and":["string","[Function]"]}, theRule: , desc: path is unavailable which is nesessary',
  key: 'username',
  rule: { and: [ 'string', [Function] ] },
  theRule: undefined,
  _origin: { desc: 'path is unavailable which is nesessary' }
}
[2020-03-21T08:59:18.166] [DEBUG] default - { code: -1, msg: '参数错误' }
[2020-03-21T08:59:18.167] [TRACE] access - GET /api/user/login 200 - 6ms
[2020-03-21T08:59:18.168] [TRACE] access - -----------------
[2020-03-21T09:01:41.486] [DEBUG] default - post body: {}
[2020-03-21T09:01:41.489] [ERROR] default - arg check failed:
 {
  error: 'error: username, rule: {"and":["string","[Function]"]}, theRule: , desc: path is unavailable which is nesessary',
  key: 'username',
  rule: { and: [ 'string', [Function] ] },
  theRule: undefined,
  _origin: { desc: 'path is unavailable which is nesessary' }
}
[2020-03-21T09:01:41.490] [DEBUG] default - { code: -1, msg: '参数错误' }
[2020-03-21T09:01:41.491] [TRACE] access - GET /api/user/login 200 - 5ms
[2020-03-21T09:01:41.491] [TRACE] access - -----------------
[2020-03-21T09:02:14.815] [DEBUG] default - post body: {}
[2020-03-21T09:02:14.819] [ERROR] default - arg check failed:
 {
  error: 'error: username, rule: {"and":["string","[Function]"]}, theRule: , desc: path is unavailable which is nesessary',
  key: 'username',
  rule: { and: [ 'string', [Function] ] },
  theRule: undefined,
  _origin: { desc: 'path is unavailable which is nesessary' }
}
[2020-03-21T09:02:14.820] [DEBUG] default - { code: -1, msg: '参数错误' }
[2020-03-21T09:02:14.821] [TRACE] access - GET /api/user/login 200 - 6ms
[2020-03-21T09:02:14.824] [TRACE] access - -----------------
[2020-03-21T09:02:40.281] [DEBUG] default - post body: {}
[2020-03-21T09:02:40.282] [DEBUG] default - query params: {"username":"longjiahui","password":"12345678"}
[2020-03-21T09:02:40.284] [ERROR] default - arg check failed:
 {
  error: 'error: username, rule: {"and":["string","[Function]"]}, theRule: , desc: path is unavailable which is nesessary',
  key: 'username',
  rule: { and: [ 'string', [Function] ] },
  theRule: undefined,
  _origin: { desc: 'path is unavailable which is nesessary' }
}
[2020-03-21T09:02:40.285] [DEBUG] default - { code: -1, msg: '参数错误' }
[2020-03-21T09:02:40.285] [TRACE] access - GET /api/user/login?username=longjiahui&password=12345678 200 - 4ms
[2020-03-21T09:02:40.286] [TRACE] access - -----------------
[2020-03-21T09:03:11.445] [DEBUG] default - post body: {}
[2020-03-21T09:03:11.446] [DEBUG] default - query params: {"username":"longjiahui","password":"12345678"}
[2020-03-21T09:03:11.449] [TRACE] access - GET /api/user/login?username=longjiahui&password=12345678 200 - 5ms
[2020-03-21T09:03:11.450] [TRACE] access - -----------------
[2020-03-21T09:03:16.615] [DEBUG] default - post body: {}
[2020-03-21T09:03:16.616] [DEBUG] default - query params: {"username":"longjiahui","password":"12345678"}
[2020-03-21T09:03:16.618] [TRACE] access - GET /api/user/login?username=longjiahui&password=12345678 200 - 3ms
[2020-03-21T09:03:16.618] [TRACE] access - -----------------
[2020-03-21T09:04:31.202] [DEBUG] default - post body: {}
[2020-03-21T09:04:31.210] [DEBUG] default - query params: {"username":"longjiahui","password":"12345678"}
[2020-03-21T09:04:31.211] [ERROR] default - arg check failed:
 {
  error: 'error: username, rule: {"and":["string","[Function]"]}, theRule: , desc: path is unavailable which is nesessary',
  key: 'username',
  rule: { and: [ 'string', [Function] ] },
  theRule: undefined,
  _origin: { desc: 'path is unavailable which is nesessary' }
}
[2020-03-21T09:04:31.212] [DEBUG] default - { code: -1, msg: '参数错误' }
[2020-03-21T09:04:31.216] [TRACE] access - GET /api/user/login?username=longjiahui&password=12345678 200 - 14ms
[2020-03-21T09:04:31.216] [TRACE] access - -----------------
[2020-03-24T12:51:26.788] [DEBUG] default - post body: {}
[2020-03-24T12:51:26.790] [DEBUG] default - query params: {"username":"longjiahui","password":"12345678"}
[2020-03-24T12:51:26.792] [ERROR] default - arg check failed:
 {
  error: 'error: username, rule: {"and":["string","[Function]"]}, theRule: , desc: path is unavailable which is nesessary',
  key: 'username',
  rule: { and: [ 'string', [Function] ] },
  theRule: undefined,
  _origin: { desc: 'path is unavailable which is nesessary' }
}
[2020-03-24T12:51:26.793] [DEBUG] default - { code: -1, msg: '参数错误' }
[2020-03-24T12:51:26.794] [TRACE] access - GET /api/user/login?username=longjiahui&password=12345678 200 - 6ms
[2020-03-24T12:51:26.794] [TRACE] access - -----------------
[2020-03-24T12:51:26.954] [DEBUG] default - post body: {}
[2020-03-24T12:51:26.955] [TRACE] access - GET /favicon.ico 404 - 1ms
[2020-03-24T12:51:26.955] [TRACE] access - -----------------
[2020-03-24T12:52:31.479] [DEBUG] default - post body: {}
[2020-03-24T12:52:31.479] [DEBUG] default - query params: {"username":"longjiahui","password":"12345678"}
[2020-03-24T12:52:31.479] [ERROR] default - arg check failed:
 {
  error: 'error: username, rule: {"and":["string","[Function]"]}, theRule: , desc: path is unavailable which is nesessary',
  key: 'username',
  rule: { and: [ 'string', [Function] ] },
  theRule: undefined,
  _origin: { desc: 'path is unavailable which is nesessary' }
}
[2020-03-24T12:52:31.480] [DEBUG] default - { code: -1, msg: '参数错误' }
[2020-03-24T12:52:31.480] [TRACE] access - GET /api/user/login?username=longjiahui&&password=12345678 200 - 1ms
[2020-03-24T12:52:31.480] [TRACE] access - -----------------
[2020-03-24T12:52:51.580] [DEBUG] default - post body: {"username":"longjiahui","password":"ljh8733887"}
[2020-03-24T12:52:51.587] [TRACE] access - POST /api/user/login 200 - 6ms
[2020-03-24T12:52:51.587] [TRACE] access - -----------------
[2020-03-24T12:56:44.419] [DEBUG] default - post body: {"username":"","password":""}
[2020-03-24T12:56:44.419] [ERROR] default - arg check failed:
 {
  error: 'error: username, rule: {"and":["string","[Function]"]}, theRule: [Function], desc: undefined',
  key: 'username',
  rule: { and: [ 'string', [Function] ] },
  theRule: [Function],
  _origin: { val: '', rule: [Function] }
}
[2020-03-24T12:56:44.419] [DEBUG] default - { code: -1, msg: '参数错误' }
[2020-03-24T12:56:44.419] [TRACE] access - POST /api/user/register 200 - 0ms
[2020-03-24T12:56:44.420] [TRACE] access - -----------------
[2020-03-24T12:56:56.804] [DEBUG] default - post body: {"username":"longjiahui","password":"ljh8733887"}
[2020-03-24T12:56:56.842] [TRACE] access - POST /api/user/register 200 - 38ms
[2020-03-24T12:56:56.842] [TRACE] access - -----------------
[2020-03-24T12:58:09.719] [DEBUG] default - post body: {"username":"longjiahui","password":"ljh8733887"}
[2020-03-24T12:58:09.721] [TRACE] access - POST /api/user/register 200 - 2ms
[2020-03-24T12:58:09.721] [TRACE] access - -----------------
[2020-03-24T13:10:28.103] [DEBUG] default - post body: {}
[2020-03-24T13:10:28.104] [ERROR] default - arg check failed:
 {
  error: 'error: username, rule: {"and":["string","[Function]"]}, theRule: , desc: path is unavailable which is nesessary',
  key: 'username',
  rule: { and: [ 'string', [Function] ] },
  theRule: undefined,
  _origin: { desc: 'path is unavailable which is nesessary' }
}
[2020-03-24T13:10:28.104] [DEBUG] default - { code: -1, msg: '参数错误' }
[2020-03-24T13:10:28.105] [TRACE] access - GET /api/user/login 200 - 2ms
[2020-03-24T13:10:28.105] [TRACE] access - -----------------
